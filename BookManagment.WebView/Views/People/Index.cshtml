@using BookManagment.Application.Services.People.Query
@model List<GetAllPeopleItem>
@{
    ViewData["Title"] = "PeopleIndex";
}
<div class="container-full">


    <section class="content">
        <!-- Step wizard -->
        <div class="box box-default">
            <!-- /.box-header -->
            <div class="box-body wizard-content">
                <!-- Step 1 -->
                <h6>Peson Info</h6>
                <section>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="firstName5">Name</label>
                                <input type="text" class="form-control" id="Name">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="lastName1">Family</label>
                                <input type="text" class="form-control" id="Family">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="phoneNumber1">Tell</label>
                                <input type="tel" class="form-control" id="Tell">
                            </div>
                        </div>
                    </div>
                </section>
                <div class="col-xl-12 col-lg-12 col-md-12 mb-1">
                    <fieldset class="form-group">
                        <br />
                        <a onclick="insertNewPerson()" class="btn btn-success col-md-12">Save</a>
                        <br />
                        <br />
                    </fieldset>
                </div>

            </div>
        </div>
    </section>




    <section class="content">
        <div class="box box-default">
            <div class="box-header with-border">
                <h4 class="box-title"> Person List</h4>
            </div>
            <div class="box-body">
                <div class="box-body">
                    <table id="tblPerson" class="table table-striped table-bordered" style="width:100%">
                        <thead class="thead-dark">
                        <th>Name</th>
                        <th>Family</th>
                        <th>Tell</th>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td>@item.Name</td>
                                    <td>@item.Family</td>
                                    <td>@item.Tell</td>
                                </tr>
                            }
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
    </section>
</div>

@section Scripts
{
@*<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>
    <link href="http://tristanedwards.me/u/SweetAlert/lib/sweet-alert.css" rel="stylesheet" />*@
<script>
    function insertNewPerson()
    {
                    var name = $("#Name").val();
                    var family = $("#Family").val();
                    var Tell = $("#Tell").val();
                    var postData = {
                        'name': name,
                        'family': family,
                        'tell': Tell,
                    };
                    $.ajax({
                        contentType: 'application/x-www-form-urlencoded',
                        dataType: 'json',
                        type: "POST",
                        url: "People/Insert",
                        data: postData,
                        success: function (data) {
                           
                        },
                        error: function (request, status, error) {
                            alert(request.responseText);
                        }
                    });
    }
</script>
}

